{% extends 'f_base.html' %}
{% block content %}

<div style="background-color: blanchedalmond; height: max-content"><br><br>

    <table class="table-auto mx-auto w-full mt-8 border-collapse">
      <thead style="background-color: rgb(34, 34, 74); color: white">
        <tr class="uppercase font-semibold text-sm">
          <th class="border border-black px-4 py-2">Email</th>
          <th class="border border-black px-4 py-2">Status</th>
      </thead>

      <tbody>

        {% for user in users %}
        
        {% if user.status != "Accept" %}
        <tr style="background-color: gray; color: white;">
          {% if user.sender %}
          <td class="border border-blue-900 px-4 py-2">{{ user.sender }}</td>
          {% elif user.receive %}
          <td class="border border-blue-900 px-4 py-2">{{ user.receive }}</td>
          {% endif %}
          
          {% if user.status == "Confirm" %}
          <td>
          <a href="/follow_user/following/?user={{ user.receive.email }}&sender={{user.id}}"><button type="button" class="btn btn-warning">{{ user.status }}</button></a>
          <a href="{% url 'follow_user:delete_request' user.id %}"><button type="button" class="btn btn-warning">Delete</button></a>
          </td>
          {% else %}
          <td><button type="button" class="btn btn-warning">{{ user.status }}</button></td>
          {% endif %}
        </tr> 
        {% endif %}

        {% endfor %}
      </tbody>
    </table>
</div>

{% endblock %}
